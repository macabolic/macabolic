<% title 'My Collections' %>
<script type="text/javascript">  
$(document).ready(function() {
    $(document).pngFix(); 
 
	//Default Action
	$(".tab_content").hide(); //Hide all content
	$("ul.tabs li:first").addClass("active").show(); //Activate first tab
	$(".tab_content:first").show(); //Show first tab content	
});
</script>
<script type="text/javascript">
function size(t) {
	a = t.value.split('\n');
	b=1;
	for (x=0;x < a.length; x++) {
 		if (a[x].length >= t.cols) b+= Math.floor(a[x].length/t.cols);
 	}

	b+= a.length;
	if (b > t.rows) t.rows = b;
};
</script>
<body class="subpage">
	<div id="grey-strip-signedin">
		<div class="wrapper-top">
			<%= render :partial => 'layouts/navigation', :locals => { :user => @user, :item => "Collections" } %>			
		</div>
	</div>
	
	<div class="wrapper-mh">
		<div class="maincol">
			<%= render 'members/profile_stat' %>
			
			<div class="tabbed-content-area">
				<ul class="tabs"> 
			        <li><a href="#tab1">Collections</a></li> 
				</ul> 		
		<% if @my_collections.empty? %>			
		        <div id="tab1" class="tab_content product-grid group"> 
	            	<div id="search-result" class="no-result">
		                <p>There is no collection yet. Go find something interesting to add to your list now.</p>	
	            	</div>
				</div>
		<% else %>
		        <div id="tab1" class="tab_content product-grid group"> 
					<%= render :partial => 'my_collections/index', :locals => { :my_collections => @my_collections, :preview_gallery => true } %>
				</div>	
		<% end %>
			</div>
			<br/>
			
			<% if !@owned_collection_items.empty? %>
			<div class="tabbed-content-area">
				<div class="pagination-wrapper top">
					<div>
						<p style="font-size:14px; color:#808080; padding-left: 23px; text-align:center">
							<strong><span>Own ...</span></strong>
						</p>
					</div>
				</div><!-- .pagination-wrapper -->		

				<div class="product-grid group">
					<%= render :partial => 'my_collection_items/index', :locals => { :my_collection_items => @owned_collection_items, :mode => "read", :filter_my_collection_item => nil } %>
				</div>
	        </div>	
			<br/>
			<% end %>
						
			<% if !@wished_collection_items.empty? %>
			<div class="tabbed-content-area">
				<div class="pagination-wrapper top">
					<div>
						<p style="font-size:14px; color:#808080; padding-left: 23px; text-align:center">
							<strong><span>Wish ...</span></strong>
						</p>
					</div>
				</div><!-- .pagination-wrapper -->		
		        <div class="product-grid group">
					<%= render :partial => 'my_collection_items/index', :locals => { :my_collection_items => @wished_collection_items, :mode => "read", :filter_my_collection_item => nil } %>
				</div>
			</div>
			<br/>
			<% end %>
			
		</div>			
			<!--
			<div class="tabbed-content-area">    		
				<ul class="tabs2"> 
			        <li><a href="#tab2_1">Featured Collections</a></li> 
				</ul> 		
		        <div id="tab2_1" class="tab_content3 product-grid group">
					<%# @featured_collections = MyCollection.featured_collections %>
					<%#= render :partial => 'my_collections/featured_collections', :locals => { :featured_collections => @featured_collections } %>
				</div>
			</div>	
			-->
		
		<%= render :partial => 'activities/mini_activities', :locals => {:activities => @activities} %>
		<%#= render 'products/product_search' %>
		<%# if @user == current_user %>
		<!--
		<div class="sidebar">
			<div>
				<div class="sidebar-content account-info">
					<div class="sidebar-header">
						Add a new collection
					</div>
					<div class="sidebar-inner">
						<%#= render :partial => 'my_collections/form', :locals => { :user => @user } %>
					</div>
				</div>
			</div>			
		</div>
		-->
		<%# end %>
	</div>
</body>